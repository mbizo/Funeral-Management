{% extends "base.html" %}
{% block content %}
<h3>New Policy</h3>
<form method="post" class="card card-body">
  <h5 class="mt-2">Policyholder</h5>
  <div class="row g-2">
    <div class="col-md-4"><input class="form-control" name="holder_name" placeholder="Full name" required></div>
    <div class="col-md-3"><input class="form-control" name="holder_national_id" placeholder="National ID"></div>
    <div class="col-md-3"><input class="form-control" name="holder_phone" placeholder="Phone"></div>
    <div class="col-md-4"><input class="form-control" name="holder_email" placeholder="Email"></div>
    <div class="col-md-8"><input class="form-control" name="holder_address" placeholder="Address"></div>
  </div>

  <h5 class="mt-3">Policy</h5>
  <div class="row g-2">
    <div class="col-md-3">
      <label class="form-label">Agent</label>
      <select name="agent_id" class="form-select">
        <option value="">-- None --</option>
        {% for a in agents %}
        <option value="{{ a.id }}">{{ a.name }} ({{ '%.0f' % (a.commission_rate*100) }}%)</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-2"><input type="number" step="0.01" class="form-control" name="premium_amount" placeholder="Premium" required></div>
    <div class="col-md-2"><input type="number" step="0.01" class="form-control" name="benefit_amount" placeholder="Benefit amount" required></div>
    <div class="col-md-3"><input class="form-control" name="benefit_description" placeholder="Benefit description"></div>
    <div class="col-md-2"><input type="number" class="form-control" name="grace_days" placeholder="Grace days" value="30"></div>
  </div>

  <div class="mt-3">
    <button class="btn btn-success">Create Policy</button>
    <a href="{{ url_for('core.policies') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}
